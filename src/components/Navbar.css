/* ---------- Global guards to prevent overflow ---------- */
*,
*::before,
*::after { box-sizing: border-box; }

html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

/* ---------- Z-index safety so burger/menu stay above next components ---------- */
.navbar{ z-index: 10000; }
@media (max-width: 860px){
  .menu{ z-index: 10001; }
}


/* ---------- THEME: Dark (default) ---------- */
:root[data-theme="dark"]{
  --bg:   #0a0a23;
  --text: #e9f0ff;
  --neon: #00ffd5;
  --hover:#151533;
}

/* ---------- THEME: Light ---------- */
:root[data-theme="light"]{
  --bg:   #f1edee;           /* very light neutral */
  --text: #000000;           /* near-black for contrast */
  --neon:#000000 ;           /* toned accent for light mode */
  --hover:#e9eaf0;           /* subtle hover chip */
}
/* ---------- Optional: fonts (Sora for brand, Inter for UI) ----------
Add to index.html <head>:
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Sora:wght@700;800&display=swap" rel="stylesheet">
--------------------------------------------------------------------- */

body { font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif; }

/* ---------- Skip link ---------- */
.skip-link{
  position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden;
}
.skip-link:focus{
  left: var(--padx);
  top: 8px;
  width:auto; height:auto;
  padding:.5rem .75rem;
  background:#fff; color:#000;
  z-index:10000; border-radius:6px;
}

/* ---------- Navbar shell ---------- */
.navbar{
  position: sticky;
  top: env(safe-area-inset-top, 0);
  width: 100%;
  z-index: 1000;
  background: color-mix(in oklab, var(--bg) 92%, black 8%);
  border-bottom: 1px solid rgba(0,255,213,.12);
  box-shadow: 0 4px 18px rgba(0,255,213,.08);
  overflow: clip; /* prevent accidental horizontal scroll from shadows/transforms */
}

/* Centered inner container controls width */
.navbar__inner{
  max-width: var(--maxw);
  margin: 0 auto;
  width: min(100%, var(--maxw));
  padding: .75rem var(--padx);
  display:flex; align-items:center; justify-content:space-between; gap: 30px; 
}

/* Brand / name */
.brand{
  font-family: "Sora", Inter, system-ui, sans-serif;
  font-weight: 800;
  letter-spacing: .2px;
  color: var(--neon);
  font-size: clamp(1.1rem, 1.2rem + .4vw, 1.6rem);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Menu (desktop baseline) */
.menu{
  list-style:none; margin:0; padding:0;
  display:flex; align-items:center; gap: clamp(.25rem, 1vw, 1rem);
  flex-wrap: nowrap;
}

.menu li { display: inline-flex; }

.menu a,
.menu button{
  display:inline-flex; align-items:center; gap:.5rem;
  color: var(--text);
  background: color-mix(in oklab, white 2%, transparent);
  border: 1px solid rgba(255,255,255,.08);
  text-decoration:none; cursor:pointer;
  padding: .55rem .9rem;
  border-radius: 10px;
  font-size: .95rem; line-height:1;
  font-weight: 600; /* stronger */
  transition: background .25s ease, color .25s ease, transform .12s ease, box-shadow .25s ease;
}

.menu a:hover,
.menu button:hover,
.menu a:focus-visible,
.menu button:focus-visible{
  color: var(--neon);
  background: var(--hover);
  box-shadow: 0 0 0 2px rgba(0,255,213,.12) inset;
  outline: 2px solid transparent; /* rely on color + box-shadow */
}

.menu a:active,
.menu button:active{
  transform: translateY(1px);
}

.theme-toggle{ font-size: 1rem; }

/* Hamburger */
.hamburger{
  display:none;
  align-items:center; justify-content:center;
  width:40px; height:40px; border-radius:10px;
  color: var(--text);
  background: transparent;
  border:1px solid rgba(255,255,255,.08);
  transition: background .25s ease, color .25s ease;
}
.hamburger:hover{ color: var(--neon); background: var(--hover); }

/* ---------- Mobile layout ---------- */
@media (max-width: 860px){
  .hamburger{ display:flex; }
  
  .menu{
    position: fixed;
    inset: calc(env(safe-area-inset-top,0) + 56px) var(--padx) auto var(--padx);
    max-width: calc(100vw - (var(--padx) * 2)); /* never overflow viewport */
    background: color-mix(in oklab, var(--bg) 86%, black 14%);
    border: 1px solid rgba(255,255,255,.08);
    border-radius: 14px;
    box-shadow: 0 12px 32px rgba(0,0,0,.4), 0 0 24px rgba(0,255,213,.12) inset;
    padding: .5rem;
    display: none;
    flex-direction: column;
    gap: .25rem;
    overflow: auto;   /* scroll inside if content is tall */
    contain: content; /* avoid layout escapes causing overflow */
  }
  .menu.menu--open{ display:flex; }
  .menu a, .menu button{ width:100%; justify-content:flex-start; padding:.9rem 1rem; }
  .menu span{ font-size:1rem; }
}

/* ===== Mobile drawer: left slide-in + backdrop ===== */
@media (max-width: 860px){
  .navbar{ --nav-h: 56px; }        /* header height (for spacing if needed) */
  .navbar__inner{ min-height: var(--nav-h); }

  /* Backdrop behind the drawer */
  .menu-backdrop{
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.45);
    backdrop-filter: blur(1px);
    opacity: 0;
    pointer-events: none;
    transition: opacity .3s ease;
    z-index: 9999;                 /* below drawer, above page */
  }
  .menu-backdrop.open{
    opacity: 1;
    pointer-events: auto;
  }

  /* Drawer panel */
  .menu{
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: auto;

    width: min(78vw, 360px);
    height: 100dvh;
    padding: 12px;
    border-radius: 0 16px 16px 0;

    background: color-mix(in oklab, var(--bg) 92%, white 8%);
    border: 1px solid color-mix(in oklab, var(--text) 12%, transparent);
    box-shadow: 0 12px 32px rgba(0,0,0,.35), 0 0 24px color-mix(in oklab, var(--neon) 18%, transparent) inset;

    display: flex;
    flex-direction: column;
    gap: 4px;

    overflow: auto;                  /* scroll inside drawer if needed */
    overscroll-behavior: contain;
    -webkit-overflow-scrolling: touch;

    transform: translateX(-110%);
    transition: transform .35s cubic-bezier(.2,.8,.2,1);
    z-index: 10001;                  /* above backdrop and navbar */
  }
  .menu.menu--open{ transform: translateX(0); }

  /* Row layout: icon | label */
  .menu li{ width: 100%; }
  .menu a, .menu button{
    display: grid;
    grid-template-columns: 22px 1fr;
    align-items: center;
    gap: 12px;
    width: 100%;
    text-align: left;
    padding: 1rem 12px;
    border-radius: 12px;
  }
  .menu a svg, .menu button svg{
    width: 20px; height: 20px; justify-self: center;
  }

  /* Labels always visible in the opened drawer */
  .menu.menu--open span{ display: inline; }
}

/* Keep labels hidden on tighter desktops but visible in the mobile drawer */
@media (max-width: 1020px){
  .menu span{ display: none; }
  .menu.menu--open span{ display: inline; }
}

/* Make sure header is always above page content */
.navbar{ z-index: 10000; isolation: isolate; }

@media (max-width: 860px) {
  .navbar__inner {
    display: flex !important;            /* force flex layout */
    flex-direction: row !important;      /* make sure it's horizontal */
    justify-content: space-between !important; /* spread to ends */
    align-items: center !important;
    padding: 0.75rem 1.25rem;            /* spacing inside the bar */
    width: 100%;                         /* ensure full width */
  }

  .brand {
    font-size: 1.3rem;
    font-weight: 700;
    margin: 0;                           /* remove any weird centering */
  }

  .hamburger {
    margin-left: auto;                   /* push to far right */
    font-size: 1.4rem;
    background: none;
    border: none;
    color: var(--text-color);
    cursor: pointer;
    padding: 0.5rem 0.7rem;
    border-radius: 8px;
  }
}



